/* ===== Ads (AdSense) - 구글 권장 방식 ===== */

/*
 * 구글 AdSense 미디어쿼리 가이드:
 * - display: none 사용 시 광고 요청 자체가 안 감 (정책 준수)
 * - PC/모바일 별도 클래스로 분기
 * - min-height로 빈 공간 유지 (CLS 방지)
 */

/* ===== 기본 스타일 ===== */

/* 광고 슬롯 기본 */
.ad-slot {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}

/* 광고 ins 요소 */
.ad-slot > ins.adsbygoogle {
  display: block;
  text-align: center;
}

/* AdSense 내부 요소 중앙 정렬 */
ins.adsbygoogle > ins,
ins.adsbygoogle > div,
ins.adsbygoogle iframe {
  margin: 0 auto !important;
}
ins.adsbygoogle iframe {
  display: block;
}

/* 광고 여백 */
.ad-slot-top {
  margin-bottom: var(--space-block-y);
}
.ad-slot-section {
  margin: var(--space-block-gap) 0;
}

/* ===== PC 광고 (기본 표시) ===== */

.ad-slot.pc-only {
  display: flex !important;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
}

/* PC 가로형 - 728x90 */
.ad-slot--horizontal.pc-only {
  min-height: 90px;
  padding: 12px;
}
.ad-slot--horizontal.pc-only > ins.adsbygoogle {
  width: 100%;
  min-height: 90px;
}

/* PC 사각형 - 300x250 */
.ad-slot--rectangle.pc-only {
  width: 300px;
  min-height: 250px;
}
.ad-slot--rectangle.pc-only > ins.adsbygoogle {
  width: 300px;
  min-height: 250px;
}

/* PC 버티컬 - 300x600 */
.ad-slot--vertical.pc-only {
  width: 300px;
  min-height: 600px;
}
.ad-slot--vertical.pc-only > ins.adsbygoogle {
  width: 300px;
  min-height: 600px;
}

/* ===== 모바일 광고 (기본 숨김 - 구글 권장: display:none으로 광고 요청 자체 차단) ===== */

.ad-slot.mobile-only {
  display: none !important;
}

/* ===== 미디어쿼리: 모바일 (768px 이하) ===== */

@media (max-width: 768px) {
  /* PC 광고 숨기기 - 광고 요청 차단 */
  .ad-slot.pc-only {
    display: none !important;
  }

  /* 모바일 광고 표시 */
  .ad-slot.mobile-only {
    display: flex !important;
    align-items: center;
    justify-content: center;
    width: 100%;
  }

  /* 모바일 가로형 - 구글 공식: HTML에서 height 지정 */
  .ad-slot.mobile-only.ad-slot--horizontal > ins.adsbygoogle {
    width: 100%;
  }

  /* 모바일 사각형/반응형 */
  .ad-slot.mobile-only.ad-slot--rectangle > ins.adsbygoogle {
    width: 100%;
  }

  /* 모바일 네이티브 인피드 */
  .ad-slot.mobile-only.ad-slot--native {
    display: block !important;
  }
}

/* ===== 컨테이너 내부 광고 여백 조정 ===== */

:is(.page-container, .game-container, .games-hub-container, .insight-container) .ad-slot-section {
  margin: 0;
}

:is(.page-container, .game-container, .games-hub-container, .insight-container) > .ad-slot-section:first-child {
  margin-top: var(--space-block-gap);
}

:is(.page-container, .game-container, .games-hub-container, .insight-container)
  > .ad-slot-section.mobile-only:first-child
  + .ad-slot-section.pc-only {
  margin-top: var(--space-block-gap);
}

:is(.page-container, .game-container, .games-hub-container, .insight-container) > .ad-slot--horizontal.pc-only {
  width: 100% !important;
  flex: 0 0 100%;
}

/* ===== Localhost 플레이스홀더 ===== */

html.is-localhost .ad-slot {
  position: relative;
}

html.is-localhost .ad-slot::before {
  content: 'AD';
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px dashed rgba(148, 163, 184, 0.7);
  background: rgba(148, 163, 184, 0.08);
  color: rgba(148, 163, 184, 0.9);
  font-weight: 800;
  font-size: 12px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  pointer-events: none;
}

html.is-localhost .ad-slot > ins.adsbygoogle {
  position: relative;
  z-index: 1;
}
